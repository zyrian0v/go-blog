{{define "title"}}
Pavel's blog â€” Edit {{.Title}}
{{end}}


{{define "body"}}
    <h1>Edit article</h1>

    {{if .DBErr}}
        <ul class="errors">
            <li>{{.DBErr}}</li>
        </ul>
    {{end}}

    <form method="post">

        {{$titleClass := ""}}
        {{if .ValidationErrs.title}}
            {{$titleClass = "input-error"}}
        {{end}}
        <p>
            <label for="title">Title</label>
            <input class= "{{$titleClass}}" value="{{.Title}}" type="text" name="title" id="title">
            {{if .ValidationErrs.title}}
                <br><small class="error">{{.ValidationErrs.title}}</small>
            {{end}}
        </p>


        {{$slugClass := ""}}
        {{if .ValidationErrs.slug}}
            {{$slugClass = "input-error"}}
        {{end}}
        <p>
            <label for="slug">Slug</label>
            <input class="{{$slugClass}}" value="{{.Slug}}" type="text" name="slug" id="slug">
            {{if .ValidationErrs.slug}}
                <br><small class="error">{{.ValidationErrs.slug}}</small>
            {{end}}
        </p>

        <p>
            <label for="content">Content</label>
            <textarea name="content" id="content" cols="50" rows="10">{{.Content}}</textarea>
        </p>

        <p>
            <input type="submit" value="Submit">
        </p>
    </form>

    <form action="/articles/delete/{{.Slug}}" method="post">
        <input class="delete-button" type="submit" value="Delete article">
    </form>
{{end}}